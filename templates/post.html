<!DOCTYPE html>
<html  xmlns:th="http://www.thymeleaf.org"
      th:replace="~{modules/layout :: layout(content = ~{::content}, htmlType = 'post',title = ${post.spec.title + ' | ' + site.title}, head = ~{::head})}">
<th:block th:fragment="head">
    <th:block th:replace="~{modules/open-graph :: open-graph(_title = ${post.spec.title},
                _permalink = ${post.status.permalink},
                _cover = ${post.spec.cover},
                _excerpt = ${post.status.excerpt},
                _type = 'article')}"></th:block>
</th:block>
<th:block th:fragment="content">
    <div class="post" id="body-wrap">
        <header class="post-bg" id="page-header">
            <nav th:replace="~{modules/nav :: nav(title = ${post.spec.title})}"></nav>
            <div class="coverdiv loaded" id="coverdiv">
                <img alt="cover" class="nolazyload" id="post-cover"
                     th:src="${#strings.isEmpty(post.spec.cover) ? theme.config.layout.postRandomImg : post.spec.cover}">
            </div>
            <div id="post-info">
                <div id="post-firstinfo">
                    <div class="meta-firstline">
                        <!-- ËøôÈáåË¶ÅË∑≥ËΩ¨Âà∞ÁâàÊùÉÈ°µ -->
                        <th:block th:with="copyrightUrl =${#annotations.get(post, 'copyrightUrl')}"
                                  th:if="${#annotations.get(post, 'copyrightEnable')  == 'true'}">
                            <a class="post-meta-original"
                               title="ËØ•ÊñáÁ´†‰∏∫ÂéüÂàõÊñáÁ´†ÔºåÊ≥®ÊÑèÁâàÊùÉÂçèËÆÆ"
                               th:if="${#strings.equals(#annotations.getOrDefault(post, 'copyrightType','original'),'original')}"
                               th:href="@{${not #strings.isEmpty(copyrightUrl) ? copyrightUrl : '#'}}"
                            >ÂéüÂàõ</a>
                            <a class="post-meta-original"
                               title="ËØ•ÊñáÁ´†‰∏∫ËΩ¨ËΩΩÊñáÁ´†ÔºåÁâàÊùÉÂΩíÂéü‰ΩúËÄÖÊâÄÊúâ"
                               th:if="${#strings.equals(#annotations.getOrDefault(post, 'copyrightType','original'),'reprint')}"
                               th:href="@{${not #strings.isEmpty(copyrightUrl) ? copyrightUrl : '#'}}"
                            >ËΩ¨ËΩΩ</a>
                        </th:block>
                        <span class="post-meta-categories" th:each="category : ${post.categories}"
                              th:if="${not #lists.isEmpty(post.categories)}">
                            <a class="post-meta-categories" th:href="@{${category.status.permalink}}"
                               th:text="${category.spec.displayName}" th:title="${category.spec.displayName}">
                            </a>
                        </span>
                        <div class="tag_share" th:if="${not #lists.isEmpty(post.tags)}">
                            <div class="post-meta__tag-list">
                                <a class="post-meta__tags" th:each="tag : ${post.tags}"
                                   th:href="@{${tag.status.permalink}}"
                                   th:title="${tag.spec.displayName}">
                                    <span class="tags-name tags-punctuation">[[${tag.spec.displayName}]]</span>
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
                <h1 class="post-title" th:text="${post.spec.title}"></h1>
                <div id="post-meta">
                    <div class="meta-secondline">
                        <span class="post-meta-author" data-flag-title="ÊñáÁ´†‰ΩúËÄÖ" title="ÊñáÁ´†‰ΩúËÄÖ">
                            <i class="haofont hao-icon-zuozhe post-meta-icon"></i>[[${post.owner.displayName}]]
                        </span>
                        <span class="post-meta-wordcount"
                              th:with="wordCount = ${#strings.length(post.content.content)}">
                            <i class="haofont hao-icon-file-word post-meta-icon" title="Â≠óÊï∞"></i>
                            <span class="post-meta-label">Â≠óÊï∞:</span>
                            <span class="word-count" th:text="${{wordCount}}"></span>
                            <span class="post-meta-separator"></span>
                            <i class="haofont hao-icon-clock post-meta-icon" title="ÈòÖËØªËÄóÊó∂"></i>
                            <span class="post-meta-label">ÈòÖËØªËÄóÊó∂:</span>
                            <span>[[${wordCount / 400}]] ÂàÜÈíü</span>
                        </span>
                        <span class="post-meta-date">
                            <i class="haofont hao-icon-calendar-days post-meta-icon"></i>
                            <time th:attr="datetime=${#dates.format(post.spec.publishTime, 'yyyy-MM-dd')}"
                                  th:text="${#dates.format(post.spec.publishTime,'yyyy/MM/dd')}"
                                  th:title="${#dates.format(post.spec.publishTime,'yyyy-MM-dd HH:mm:ss')}">
                            </time>
                        </span>
                        <span class="post-meta-date">
                            <i class="haofont hao-icon-pencil post-meta-icon" title="ÊúÄÂêéÊõ¥Êñ∞Êó∂Èó¥"></i>
                            <time th:attr="datetime=${#dates.format(post.status.lastModifyTime, 'yyyy-MM-dd')}"
                                  th:text="${#dates.format(post.status.lastModifyTime,'yyyy/MM/dd')}"
                                  th:title="${#dates.format(post.status.lastModifyTime,'yyyy-MM-dd HH:mm:ss')}">
                            </time>
                        </span>
                        <span th:with="syncStatus=${#strings.isEmpty(#annotations.get(post, 'sync_status')) ? 'Êú™ÂêåÊ≠•': #annotations.get(post, 'sync_status')}"
                              class="post-meta-wechat" th:title=" ${pluginFinder.available('plugin-platforms-sync') &&  (syncStatus == 'ÂêåÊ≠•Êõ¥Êñ∞ÊñáÁ´†ÊàêÂäü' || syncStatus == 'ÂêåÊ≠•‰∏ä‰º†ÊñáÁ´†ÊàêÂäü') ? 'ËØ•ÊñáÁ´†Â∑≤Âú®ÂÖ¨‰ºóÂè∑‰∏≠Êõ¥Êñ∞' : 'ËØ•ÊñáÁ´†Âú®ÂçöÂÆ¢È¶ñÂèë'}">
                            <th:block th:unless="${pluginFinder.available('plugin-platforms-sync') && (syncStatus == 'ÂêåÊ≠•Êõ¥Êñ∞ÊñáÁ´†ÊàêÂäü' || syncStatus == 'ÂêåÊ≠•‰∏ä‰º†ÊñáÁ´†ÊàêÂäü')}">
                                <i class="haofont hao-icon-rss post-meta-icon"></i>ÂçöÂÆ¢Áã¨‰∫´
                            </th:block>

                            <th:block th:if="${pluginFinder.available('plugin-platforms-sync') && (syncStatus == 'ÂêåÊ≠•Êõ¥Êñ∞ÊñáÁ´†ÊàêÂäü' || syncStatus == 'ÂêåÊ≠•‰∏ä‰º†ÊñáÁ´†ÊàêÂäü')}">
                                <i class="haofont hao-icon-weixin1 post-meta-icon"></i>ÂÖ¨‰ºóÂè∑ÂêåÊ≠•
                            </th:block>
                        </span>
                        <a class="post-meta-pv" data-flag-title="ËÆøÈóÆÈáè" title="ËÆøÈóÆÈáè" >
                            <i class="haofont hao-icon-fire post-meta-icon"></i>
                            <span class="post-meta-label">ÁÉ≠Â∫¶:</span>
                            <span id="visit" th:text="${post.stats.visit}"></span>
                        </a>
                        <a th:if="${post.spec.allowComment && #strings.contains('Twikoo,Artalk,commentWidget',theme.config.comments.use)}"
                           class="post-meta-commentcount"  data-flag-title="ËØÑËÆ∫Êï∞"
                           title="ËØÑËÆ∫Êï∞"
                           href="#post-comment">
                            <i class="haofont hao-icon-chat--fill post-meta-icon" style="font-size: 17px;"></i>
                            <span class="post-meta-label">ËØÑËÆ∫:</span>
                            <span th:if="${#strings.equals(theme.config.comments.use, 'commentWidget')}"
                                  id="comment-count" th:text="${post.stats.comment}">
                                <i class="haofont hao-icon-spinner fa-spin"></i>
                            </span>
                            <span th:if="${#strings.equals(theme.config.comments.use, 'Twikoo')}"
                                  id="twikoo-count">
                                <i class="haofont hao-icon-spinner fa-spin"></i>
                            </span>
                            <span th:if="${#strings.equals(theme.config.comments.use, 'Artalk')}"
                                  id="ArtalkCount">
                                <i class="haofont hao-icon-spinner fa-spin"></i>
                            </span>
                        </a>
                        <th:block th:with="contributorLogin = ${contributorFinder.getContributor(#authentication.name)}">
                            <a class="post-meta-editor" sec:authorize="isAuthenticated()" data-flag-title="ÁºñËæëÊñáÁ´†"
                               title="ÁºñËæëÊñáÁ´†"
                               th:if="${contributorLogin.name} == ${post.spec.owner}"
                               th:attr="onclick='javascript:window.open(\''+ '/console/posts/editor?name='+${post.metadata.name}+'&returnToView=true\''+ ',' +'\'_self'+'\')'">
                                <i style="margin-top: 2px;" class="haofont hao-icon-bianji post-meta-icon"></i>
                                <span>ÁºñËæë</span>
                            </a>
                        </th:block>
                    </div>

                </div>
            </div>
            <section class="main-hero-waves-area waves-area">
                <svg class="waves-svg" preserveAspectRatio="none" shape-rendering="auto" viewBox="0 24 150 28"
                     xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg">
                    <defs>
                        <path
                                d="M -160 44 c 30 0 58 -18 88 -18 s 58 18 88 18 s 58 -18 88 -18 s 58 18 88 18 v 44 h -352 Z"
                                id="gentle-wave"></path>
                    </defs>
                    <g class="parallax">
                        <use href="#gentle-wave" x="48" y="0"></use>
                        <use href="#gentle-wave" x="48" y="3"></use>
                        <use href="#gentle-wave" x="48" y="5"></use>
                        <use href="#gentle-wave" x="48" y="7"></use>
                    </g>
                </svg>
            </section>
        </header>
        <main class="layout right-aside" id="content-inner">
            <div id="post">
                <div class="post-ai" th:if="${not #strings.isEmpty(#annotations.get(post, 'ai')) ?
                      #annotations.get(post, 'ai') == 'true' : theme.config.post.aiDescription.aiDescriptionEnable}">
                    <div class="ai-title"><i class="haofont hao-icon-bilibili"></i>
                        <div class="ai-title-text">AI-ÊëòË¶Å</div>
                        <div th:if="${theme.config.post.aiDescription.switchBtn}" id="ai-Toggle">ÂàáÊç¢</div>
                        <i class="haofont hao-icon-arrow-rotate-right"></i>
                        <div th:if="${#strings.equals(theme.config.post.aiDescription.mode, 'local')}" class="ai-tag" id="ai-tag">[[${theme.config.post.aiDescription.gptName}]] GPT</div>
                        <div th:if="${#strings.equals(theme.config.post.aiDescription.mode, 'tianli')}" class="ai-tag" id="ai-tag">Tianli GPT</div>
                    </div>
                    <div class="ai-explanation" style="display: block;">AIÂàùÂßãÂåñ‰∏≠...</div>
                    <div class="ai-btn-box">
                        <div class="ai-btn-item">‰ªãÁªçËá™Â∑±</div>
                        <div class="ai-btn-item">ÁîüÊàêÊú¨ÊñáÁÆÄ‰ªã</div>
                        <div class="ai-btn-item">Êé®ËçêÁõ∏ÂÖ≥ÊñáÁ´†</div>
                        <div class="ai-btn-item">ÂâçÂæÄ‰∏ªÈ°µ</div>
                        <div class="ai-btn-item" id="go-tianli-blog">ÂâçÂæÄtianliÂçöÂÆ¢</div>
                    </div>
                </div>

                <!-- ÊñáÁ´†ÂÜÖÂÆπ -->
                <article  th:class="'post-content  '+${ theme.config.code.enable_line || pluginFinder.available('PluginPrismJS') ? 'line-numbers' : ''}" id="article-container">
                    <th:block th:with="days=${(new java.util.Date().getTime()-post.status.lastModifyTime.toEpochMilli())/86400000}">
                        <div class="note simple warning" th:if="${days > #conversions.convert(180, 'java.lang.Integer')}">
                            <p><th:block th:text="|Êú¨ÊñáÊúÄÂêéÊõ¥Êñ∞‰∫é ${#dates.format(post.status.lastModifyTime,'yyyy-MM-dd')}Ôºå|"/>ÊñáÁ´†ÂÜÖÂÆπÂèØËÉΩÂ∑≤ÁªèËøáÊó∂„ÄÇ</p>
                        </div>
                    </th:block>
                    <th:block th:utext="${post.content.content}"/>
                </article>

                <!-- ÊñáÁ´†aiÊëòË¶Å -->
                <script data-pjax th:if="${not #strings.isEmpty(#annotations.get(post, 'ai')) ?
                      #annotations.get(post, 'ai') == 'true' : theme.config.post.aiDescription.aiDescriptionEnable}"
                        th:src="${assets_link + '/libs/gpt/post-ai.js'}"></script>

                <!-- ÁâàÊùÉÂ£∞Êòé -->
                <div class="post-tools" id="post-tools">
                    <div class="post-tools-left">
            
                        <!-- ÊâìËµè -->
                        <div class="post-reward" onclick="AddRewardMask()" th:if="false">
                            <div class="reward-button button&#45;&#45;animated" title="ËµûËµè‰ΩúËÄÖ"><i class="haofont hao-icon-hand-heart-fill"></i>
                                ÊâìËµè‰ΩúËÄÖ
                            </div>
                            <div class="reward-main">
                                <ul class="reward-all"><span class="reward-title">ÊÑüË∞¢‰Ω†Ëµê‰∫àÊàëÂâçËøõÁöÑÂäõÈáè</span>
                                    <ul class="reward-group">
                                        <li class="reward-item"><a href="" target="_blank">
                                            <img alt="ÂæÆ‰ø°" class="post-qr-code-img" src=""></a>
                                            <div class="post-qr-code-desc">ÂæÆ‰ø°</div>
                                        </li>
                                        <li class="reward-item"><a href="" target="_blank">
                                            <img alt="ÊîØ‰ªòÂÆù" class="post-qr-code-img" src=""></a>
                                            <div class="post-qr-code-desc">ÊîØ‰ªòÂÆù</div>
                                        </li>
                                    </ul>
                                    <a class="reward-main-btn" href="" target="_blank">
                                        <div class="reward-text">ËµûËµèËÄÖÂêçÂçï</div>
                                        <div class="reward-dec">Âõ†‰∏∫‰Ω†‰ª¨ÁöÑÊîØÊåÅËÆ©ÊàëÊÑèËØÜÂà∞ÂÜôÊñáÁ´†ÁöÑ‰ª∑ÂÄºüôè</div>
                                    </a>
                                </ul>
                            </div>
                        </div>
            
                        <!-- ËØ¥Êòé -->
                        <div   class="reward-link mode"><a
                                class="reward-link-button" href="">
                            <i class="haofont hao-icon-plant-fill"></i>ËøêËê•Ê®°Âºè‰∏éË¥£‰ªª</a>
                        </div>
            
                        <!-- ÂàÜ‰∫´ -->
                        <div class="share-link mobile" >
                            <div class="share-qrcode">
                                <div class="share-button" title="‰ΩøÁî®ÊâãÊú∫ËÆøÈóÆËøôÁØáÊñáÁ´†"><i class="haofont hao-icon-qrcode"></i>
                                </div>
                                <div class="share-main">
                                    <div class="share-main-all">
                                        <div id="qrcode"></div>
                                        <div class="reward-dec">‰ΩøÁî®ÊâãÊú∫ËÆøÈóÆËøôÁØáÊñáÁ´†</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="share-link weibo">
                            <a class="share-button" rel="noopener external nofollow noreferrer noopener" target="_blank" th:href="'https://service.weibo.com/share/share.php?title=' + ${post.spec.title}" title="ÂàÜ‰∫´Âà∞ÂæÆÂçö"><i class="haofont hao-icon-weibo" style="font-size:22px"></i></a>
                        </div>
                        <div class="share-link copyurl">
                            <div class="share-button" id="post-share-url" onclick="rm.copyPageUrl()" title="Â§çÂà∂ÈìæÊé•"><i class="haofont hao-icon-link"></i></div>
                        </div>
                    </div>
                    <div class="post-tools-right">
                        <div class="tag_share">
                            <div class="post-meta__tag-list">
                                <a class="post-meta__tags" th:each="tag : ${post.tags}" th:href="@{${tag.status.permalink}}">
                                    <span class="tags-punctuation">[[${tag.spec.displayName}]]</span>
            
                                    <span class="tagsPageCount" th:text="${tag.status.visiblePostCount}"></span>
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            
                <!-- ÁâàÊùÉÂ£∞Êòé -->
                <div class="post-copyright" th:with="copyrightUrl =${#annotations.get(post, 'copyrightUrl')},
                   copyrightEnable = ${#annotations.get(post, 'copyrightEnable') == 'true'}">
                    <div class="post-copyright__author" >
                        <!-- ÁâàÊùÉÈ°µ ‰ª•ÂèäÁâàÊùÉÊèèËø∞ÊñáÂ≠ó -->
                        <a th:if="${#strings.equals(#annotations.getOrDefault(post, 'copyrightType','original'),'original') && copyrightEnable}"
                           class="post-copyright__original" th:href="@{${not #strings.isEmpty(copyrightUrl) ? copyrightUrl : '#'}}"
                           title="ËØ•ÊñáÁ´†‰∏∫ÂéüÂàõÊñáÁ´†ÔºåÊ≥®ÊÑèÁâàÊùÉÂçèËÆÆ">ÂéüÂàõ</a>
                        <a th:if="${#strings.equals(#annotations.getOrDefault(post, 'copyrightType','original'),'reprint') && copyrightEnable}"
                           class="post-copyright__original" th:href="@{${not #strings.isEmpty(copyrightUrl) ? copyrightUrl : '#'}}"
                           title="ËØ•ÊñáÁ´†‰∏∫ËΩ¨ËΩΩÊñáÁ´†ÔºåÁâàÊùÉÂΩíÂéü‰ΩúËÄÖÊâÄÊúâ">ËΩ¨ËΩΩ</a>
                        <a class="post-copyright-title" href="#"><span th:text="${post.spec.title}"></span></a>
                    </div>
                    <div class="post-copyright__type">
                        <span class="post-copyright-info" id="post-copyright-url">
                            <a href="javascript:window.location.href;">[[${post.spec.title}]]</a>
                        </span>
                        <button class="post-copyright-copybtn" onclick="rm.copyPageUrl()">
                            <i class="haofont hao-icon-paste"></i>
                        </button>
                    </div>
                    <div class="post-copyright__notice">
                        <span class="post-copyright-info">
                            Êú¨ÊñáÊòØÂéüÂàõÊñáÁ´†ÔºåÈááÁî®<a target="_blank" href="/cc">CC BY-NC-ND 4.0</a>ÂçèËÆÆÔºåÂÆåÊï¥ËΩ¨ËΩΩËØ∑Ê≥®ÊòéÊù•Ëá™<a href="https://www.infanx.com" target="_blank">infanx.com</a>
                        </span>
                    </div>
                </div>
                <link rel="stylesheet" th:href="${assets_link + '/css/post-copyright.css'}">

                <nav class="pagination-post needEndHide" id="pagination"
                     th:with="postCursor = ${postFinder.cursor(post.metadata.name)},
                     postRandomImg=${#strings.contains(theme.config.layout.postRandomImg,'?') ? theme.config.layout.postRandomImg+'&' : theme.config.layout.postRandomImg+'?'}">
                    <div th:if="${postCursor.hasPrevious()}" th:class="${postCursor.hasNext()==false} ? 'prev-post pull-full ' : 'prev-post pull-left'">
                        <a th:if="${postCursor.hasPrevious()}" th:href="@{${postCursor.previous.status.permalink}}">
                            <img alt="cover" id="preimg" class="nolazyload"
                                 th:with="img = ${#strings.isEmpty(postCursor.previous.spec.cover) ? postRandomImg+postCursor.previous.spec.title : thumbnail.gen(postCursor.previous.spec.cover, 'm')}"
                                 th:src="${isLazyload ? loadingImg : img}"

                                 th:data-lazy-src="${ isLazyload ? img : ''}">
                            <div class="pagination-info">
                                <div class="label">‰∏ä‰∏ÄÁØá</div>
                                <div class="prev_info" th:text="${postCursor.previous.spec.title}"></div>
                            </div>
                        </a>
                    </div>
                    <div th:if="${postCursor.hasNext()}" th:class="${postCursor.hasPrevious()==false} ? 'next-post pull-full ':'next-post pull-right'">
                        <a th:if="${postCursor.hasNext()}" th:href="@{${postCursor.next.status.permalink}}">
                            <img alt="cover" id="preimg" class="nolazyload"
                                 th:with="img = ${#strings.isEmpty(postCursor.next.spec.cover) ? postRandomImg+postCursor.next.spec.title : thumbnail.gen(postCursor.next.spec.cover, 'm')}"
                                 th:src="${isLazyload ? loadingImg : img}"
                                 th:data-lazy-src="${ isLazyload ? img : ''}">
                            <div class="pagination-info">
                                <div class="label">‰∏ã‰∏ÄÁØá</div>
                                <div class="next_info" th:text="${postCursor.next.spec.title}"></div>
                            </div>
                        </a>
                    </div>
                </nav>
                <!-- ÈòÖËØªÂª∫ËÆÆ Start -->
                <th:block  th:if="${not #lists.isEmpty(post.categories)}" th:with="recommendQuantity = six,
                recommandPosts = ${postFinder.listByCategory(1,recommendQuantity == 'six' ? 7 : recommendQuantity == 'two' ? 3 : 1,post.categories.get(0).metadata.name)},
                containsTitle = ${#strings.contains(recommandPosts,post.spec.title)},
                postRandomImg=${#strings.contains(theme.config.layout.postRandomImg,'?') ? theme.config.layout.postRandomImg+'&' : theme.config.layout.postRandomImg+'?'}">
                    <div class="relatedPosts" th:if="${recommandPosts.total>1}">
                        <div class="headline">
                            <i class="haofont hao-icon-cainixihuan" style="font-size: 1.1rem;"></i>
                            <span>ÈòÖËØªÂª∫ËÆÆ</span>
                        </div>
                        <!-- ÂÖ≠ÁØáÊñáÁ´† -->
                        <div th:if="${#strings.equals(recommendQuantity, 'six')}" class="relatedPosts-list">
                            <!-- Âª∫ËÆÆÈòÖËØªÔºåËøôÈáåÂèØ‰ª•Ëá™ÂÆö‰πâÊñáÁ´†Êï∞ÈáèÔºåÁÑ∂ÂêéÈÅçÂéÜÂ±ïÁ§∫ -->
                            <th:block th:each="recommandPost,iterStat :${recommandPosts}"
                                    th:if="${not #strings.equals(post.spec.title, recommandPost.spec.title)}">
                                <div th:if="${!containsTitle ? iterStat.index <6 : true}">
                                    <a th:href="@{${recommandPost.status.permalink}}" th:title="${recommandPost.spec.title}">
                                        <img alt="cover" class="cover" id="preimg"
                                            th:with="img = ${#strings.isEmpty(recommandPost.spec.cover) ? postRandomImg+recommandPost.spec.title : thumbnail.gen(recommandPost.spec.cover, 'm')}"
                                            th:src="${isLazyload ? loadingImg : img}"
                                            th:data-lazy-src="${ isLazyload ? img : ''}">
                                        <div class="content is-center">
                                            <div class="date" style="color: white"><i class="far fa-calendar-alt fa-fw"></i>
                                                [[${#dates.format(recommandPost.spec.publishTime,'yyyy-MM-dd')}]]
                                            </div>
                                            <div class="title" style="color: white" th:text="${recommandPost.spec.title}"></div>
                                        </div>
                                    </a>
                                </div>
                            </th:block>
                        </div>
                        <!-- ‰∏§ÁØáÊñáÁ´† -->
                        <div th:if="${#strings.equals(recommendQuantity, 'two')}" class="relatedPosts-list">
                            <th:block th:each="recommandPost,iterStat :${recommandPosts}"
                                    th:if="${not #strings.equals(post.spec.title, recommandPost.spec.title)}">
                                <div th:if="${!containsTitle ? iterStat.index <2 : true}">
                                    <a th:href="@{${recommandPost.status.permalink}}" th:title="${recommandPost.spec.title}">
                                        <img class="cover" alt="cover"
                                            th:with="img = ${#strings.isEmpty(recommandPost.spec.cover) ? postRandomImg+recommandPost.spec.title : thumbnail.gen(recommandPost.spec.cover, 'm')}"

                                            th:src="${isLazyload ? loadingImg : img}"
                                            th:data-lazy-src="${ isLazyload ? img : ''}">
                                        <div class="content is-center">
                                            <div class="date"><i class="far fa-calendar-alt fa-fw"></i>
                                                [[${#dates.format(recommandPost.spec.publishTime,'yyyy-MM-dd')}]]</div>
                                            <div class="title" th:text="${recommandPost.spec.title}"></div>
                                        </div>
                                    </a>
                                </div>
                            </th:block>
                        </div>
                    </div>
                    <link th:if="${#strings.equals(recommendQuantity, 'six')}" rel="stylesheet"
                        th:href="${assets_link + '/css/related-posts-six.css' + theme_version}">
                    <link th:if="${#strings.equals(recommendQuantity, 'two')}" rel="stylesheet"
                        th:href="${assets_link + '/css/related-posts-two.css' + theme_version}">
                </th:block>
                <!-- ÈòÖËØªÂª∫ËÆÆ End -->
                <hr>
                <!--/* ËØÑËÆ∫ÁªÑ‰ª∂ */-->
                <th:block
                        th:replace="~{modules/comment :: comment(group = 'content.halo.run',
                  kind = 'Post',
                  name = ${post.metadata.name},
                  allowComment = ${post.spec.allowComment})}"/>
            </div>
            <!-- ‰æßÊ†è -->
            <div class="aside-content" id="aside-content">
                <!-- ËøôÈáåÁõ¥Êé•Áî®Ê≥®ÈáäÊéßÂà∂ÊòæÁ§∫ÈöêËóè -->
                <!-- ‰∏™‰∫∫ÁÆÄ‰ªã -->
                <!-- <th:block th:replace="~{'modules/aside/profile'}" /> -->
                <!-- ÁΩëÊòì‰∫ëÈü≥‰πê -->
                <!-- <th:block th:replace="~{'modules/aside/music'}" /> -->
                <!-- ÊúÄËøëÊñáÁ´† -->
                <!-- <th:block th:replace="~{'modules/aside/recent-posts'}" /> -->
                <!-- ÁÉ≠Èó®ÊñáÁ´† -->
                <!-- <th:block th:replace="~{'modules/aside/visit-posts'}" /> -->
                <!-- ÊúÄËøëËØÑËÆ∫ -->
                <!-- <th:block th:replace="~{'modules/aside/comments'}" /> -->
                <div class="sticky_layout">
                    <!-- ÊñáÁ´†ÁõÆÂΩï -->
                    <th:block th:replace="~{'modules/aside/toc'}" />
                    <!-- ÂæÆ‰ø°ÂÖ¨‰ºóÂè∑ -->
                    <th:block th:replace="~{'modules/aside/wechat'}" />
                    <!-- ÊñáÁ´†ÂàÜÁ±ª -->
                    <th:block th:replace="~{'modules/aside/categories'}" />
                    <!-- ÊñáÁ´†Ê†áÁ≠æ -->
                    <th:block th:replace="~{'modules/aside/tags'}" />
                    <!-- ÁªüËÆ°‰ø°ÊÅØ -->
                    <th:block th:replace="~{'modules/aside/stat'}" />
                </div>
            </div>
        </main>
        <!-- Â∫ïÈÉ® -->
        <footer th:replace="~{modules/footer}"/>
    </div>
</th:block>
</html>